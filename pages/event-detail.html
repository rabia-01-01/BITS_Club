<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Details - BITS Pilani Coding Club</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Additional styles for event detail page */
    .detail-content {
      max-width: 1000px;
      margin: 120px auto 60px;
      padding: 0 20px;
    }
    
    .detail-hero {
      height: 450px;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 40px;
      box-shadow: var(--box-shadow);
    }
    
    .detail-hero img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .detail-hero-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 50px 30px 30px;
      background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
      color: var(--white);
    }
    
    .detail-title {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: var(--white);
    }
    
    .detail-date {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: var(--accent-gold);
      display: flex;
      align-items: center;
    }
    
    .detail-date i {
      margin-right: 8px;
    }
    
    .event-details {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .event-detail {
      display: flex;
      align-items: center;
      color: var(--white);
      font-size: 1rem;
    }
    
    .event-detail i {
      margin-right: 8px;
      color: var(--accent-gold);
    }
    
    .register-btn {
      margin-top: 15px;
      background-color: var(--accent-gold);
      color: var(--dark-blue);
      font-weight: bold;
      padding: 12px 24px;
      transition: all 0.3s ease;
    }
    
    .register-btn:hover {
      background-color: var(--white);
      color: var(--dark-blue);
    }
    
    .detail-description {
      line-height: 1.8;
      margin-bottom: 40px;
      font-size: 1.1rem;
    }
    
    .section-heading {
      font-size: 1.8rem;
      color: var(--secondary-blue);
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
    }
    
    .section-heading::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-blue), var(--accent-gold));
    }
    
    .event-highlights {
      margin: 40px 0;
    }
    
    .highlights-list {
      padding-left: 20px;
    }
    
    .highlights-list li {
      margin-bottom: 15px;
      position: relative;
      padding-left: 30px;
      font-size: 1.1rem;
    }
    
    .highlights-list li i {
      color: var(--primary-blue);
      position: absolute;
      left: 0;
      top: 5px;
    }
    
    .speakers-section {
      margin: 40px 0;
    }
    
    .speakers-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 25px;
    }
    
    .speaker-card {
      background-color: var(--white);
      border-radius: var(--border-radius);
      overflow: hidden;
      box-shadow: var(--box-shadow);
      transition: transform var(--transition-speed);
    }
    
    .speaker-card:hover {
      transform: translateY(-5px);
    }
    
    .speaker-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }
    
    .speaker-info {
      padding: 20px;
    }
    
    .speaker-name {
      font-size: 1.3rem;
      margin-bottom: 5px;
      color: var(--secondary-blue);
    }
    
    .speaker-role {
      color: var(--dark-gray);
      margin-bottom: 10px;
    }
    
    .speaker-bio {
      font-size: 0.9rem;
      line-height: 1.5;
    }
    
    .schedule-section {
      margin: 40px 0;
    }
    
    .schedule-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    
    .schedule-table th,
    .schedule-table td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid var(--light-gray);
    }
    
    .schedule-table th {
      background-color: var(--light-blue);
      color: var(--secondary-blue);
      font-weight: 600;
    }
    
    .schedule-table tr:nth-child(even) {
      background-color: var(--lightest-gray);
    }
    
    .schedule-table tr:hover {
      background-color: var(--light-gray);
    }
    
    .location-section {
      margin: 40px 0;
    }
    
    .location-map {
      width: 100%;
      height: 350px;
      border-radius: var(--border-radius);
      overflow: hidden;
      margin-top: 20px;
    }
    
    .location-map iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .location-details {
      margin-top: 20px;
      display: flex;
      align-items: flex-start;
      gap: 30px;
    }
    
    .location-address {
      flex: 1;
    }
    
    .location-address h4 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: var(--secondary-blue);
    }
    
    .location-address p {
      line-height: 1.6;
    }
    
    .location-transport {
      flex: 1;
    }
    
    .location-transport h4 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: var(--secondary-blue);
    }
    
    .transport-options {
      list-style-type: none;
      padding: 0;
    }
    
    .transport-options li {
      margin-bottom: 10px;
      padding-left: 25px;
      position: relative;
    }
    
    .transport-options li i {
      position: absolute;
      left: 0;
      top: 3px;
      color: var(--primary-blue);
    }
    
    .registration-section {
      margin: 40px 0;
      padding: 40px;
      background-color: var(--light-gray);
      border-radius: var(--border-radius);
      text-align: center;
    }
    
    .registration-section h2 {
      margin-bottom: 20px;
    }
    
    .registration-info {
      margin-bottom: 30px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .ticket-types {
      display: flex;
      flex-wrap: wrap;
      gap: 25px;
      justify-content: center;
      margin-bottom: 30px;
    }
    
    .ticket-card {
      flex: 1;
      min-width: 250px;
      max-width: 300px;
      padding: 25px 20px;
      background-color: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      text-align: center;
    }
    
    .ticket-name {
      font-size: 1.4rem;
      color: var(--secondary-blue);
      margin-bottom: 10px;
    }
    
    .ticket-price {
      font-size: 2rem;
      font-weight: bold;
      color: var(--accent-gold);
      margin-bottom: 15px;
    }
    
    .ticket-description {
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 20px;
    }
    
    .ticket-features {
      list-style-type: none;
      padding: 0;
      margin-bottom: 20px;
      text-align: left;
    }
    
    .ticket-features li {
      margin-bottom: 8px;
      padding-left: 20px;
      position: relative;
    }
    
    .ticket-features li i {
      position: absolute;
      left: 0;
      top: 4px;
      color: var(--primary-blue);
    }
    
    .related-events {
      margin: 40px 0;
    }
    
    .related-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .related-card {
      background-color: var(--white);
      border-radius: var(--border-radius);
      overflow: hidden;
      box-shadow: var(--box-shadow);
      transition: transform var(--transition-speed);
    }
    
    .related-card:hover {
      transform: translateY(-5px);
    }
    
    .related-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    
    .related-card-content {
      padding: 20px;
    }
    
    .related-card-date {
      color: var(--accent-gold);
      margin-bottom: 10px;
      font-size: 0.9rem;
    }
    
    .related-card h3 {
      font-size: 1.3rem;
      margin-bottom: 10px;
      color: var(--secondary-blue);
    }
    
    .back-button {
      display: inline-flex;
      align-items: center;
      margin-bottom: 30px;
      font-weight: 500;
      color: var(--secondary-blue);
      transition: color var(--transition-speed);
    }
    
    .back-button i {
      margin-right: 8px;
    }
    
    .back-button:hover {
      color: var(--primary-blue);
    }
    
    @media (max-width: 768px) {
      .event-details {
        flex-direction: column;
        gap: 10px;
      }
      
      .location-details {
        flex-direction: column;
      }
      
      .ticket-types {
        flex-direction: column;
        align-items: center;
      }
      
      .ticket-card {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Header Section -->
  <header>
    <div class="container">
      <div class="logo">
        <img src="../images/coding-club-logo.jpeg" alt="BITS Pilani Coding Club Logo">
        <h1>Coding Club</h1>
      </div>
      <nav>
        <button class="mobile-menu-btn">
          <i class="fas fa-bars"></i>
        </button>
        <ul class="nav-menu">
          <li><a href="../index.html">Home</a></li>
          <li><a href="../index.html#whats-new">What's New</a></li>
          <li><a href="../index.html#recruitment">Recruitment</a></li>
          <li><a href="../index.html#activities">Activities</a></li>
          <li><a href="../index.html#people">People</a></li>
          <li><a href="../index.html#events" class="active">Events</a></li>
          <li><a href="../index.html#gallery">Gallery</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="detail-content">
    <a href="../index.html#events" class="back-button">
      <i class="fas fa-arrow-left"></i> Back to Events
    </a>
    
    <div class="detail-hero">
      <img src="" id="event-image" alt="Event Image">
      <div class="detail-hero-overlay">
        <h1 class="detail-title" id="event-title">Event Title</h1>
        <div class="detail-date">
          <i class="far fa-calendar-alt"></i>
          <span id="event-date">March 15, 2025</span>
        </div>
        <div class="event-details">
          <div class="event-detail">
            <i class="fas fa-clock"></i>
            <span id="event-time">10:00 AM - 4:00 PM</span>
          </div>
          <div class="event-detail">
            <i class="fas fa-map-marker-alt"></i>
            <span id="event-location">BITS Pilani Campus</span>
          </div>
          <div class="event-detail">
            <i class="fas fa-users"></i>
            <span id="event-organizer">BITS Pilani Coding Club</span>
          </div>
        </div>
        <a href="#registration-section" class="btn register-btn">Register Now</a>
      </div>
    </div>
    
    <div class="detail-description" id="event-description">
      Loading event details...
    </div>
    
    <div class="event-highlights">
      <h2 class="section-heading">Event Highlights</h2>
      <ul class="highlights-list" id="highlights-list">
        <!-- Highlights will be loaded dynamically -->
      </ul>
    </div>
    
    <div class="speakers-section">
      <h2 class="section-heading">Featured Speakers</h2>
      <div class="speakers-grid" id="speakers-grid">
        <!-- Speakers will be loaded dynamically -->
      </div>
    </div>
    
    <div class="schedule-section">
      <h2 class="section-heading">Event Schedule</h2>
      <table class="schedule-table" id="schedule-table">
        <thead>
          <tr>
            <th>Time</th>
            <th>Session</th>
            <th>Speaker</th>
            <th>Location</th>
          </tr>
        </thead>
        <tbody>
          <!-- Schedule will be loaded dynamically -->
        </tbody>
      </table>
    </div>
    
    <div class="location-section">
      <h2 class="section-heading">Event Location</h2>
      <div class="location-map">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3498.9883175851967!2d75.58563801508857!3d28.359384982523635!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39131964e3fb73b3%3A0x7f68382e3cd3a04d!2sBITS%20Pilani!5e0!3m2!1sen!2sin!4v1614852137247!5m2!1sen!2sin"
          allowfullscreen=""
          loading="lazy">
        </iframe>
      </div>
      <div class="location-details">
        <div class="location-address">
          <h4>Address</h4>
          <p id="location-address">BITS Pilani, Vidya Vihar<br>Pilani, Rajasthan 333031<br>India</p>
        </div>
        <div class="location-transport">
          <h4>How to Reach</h4>
          <ul class="transport-options">
            <li><i class="fas fa-plane"></i> Nearest Airport: Jaipur International Airport (JLR), approx. 200 km</li>
            <li><i class="fas fa-train"></i> Nearest Railway Station: Pilani Railway Station, approx. 5 km</li>
            <li><i class="fas fa-bus"></i> Regular bus service from Delhi, Jaipur, and other major cities</li>
            <li><i class="fas fa-car"></i> Parking available on campus for personal vehicles</li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="registration-section" id="registration-section">
      <h2 class="section-heading">Registration Information</h2>
      <div class="registration-info" id="registration-info">
        <p>Join us for this exciting event! Register now to secure your spot and take advantage of early bird discounts. Different ticket types are available to suit your needs.</p>
      </div>
      
      <div class="ticket-types" id="ticket-types">
        <div class="ticket-card">
          <div class="ticket-name">Student Pass</div>
          <div class="ticket-price">₹500</div>
          <div class="ticket-description">Perfect for current students wanting to learn and network.</div>
          <ul class="ticket-features">
            <li><i class="fas fa-check"></i> Access to all sessions</li>
            <li><i class="fas fa-check"></i> Workshop materials</li>
            <li><i class="fas fa-check"></i> Lunch and refreshments</li>
            <li><i class="fas fa-check"></i> Certificate of participation</li>
          </ul>
          <a href="#" class="btn btn-primary">Get Student Pass</a>
        </div>
        
        <div class="ticket-card">
          <div class="ticket-name">Professional Pass</div>
          <div class="ticket-price">₹1500</div>
          <div class="ticket-description">For industry professionals and alumni.</div>
          <ul class="ticket-features">
            <li><i class="fas fa-check"></i> Access to all sessions</li>
            <li><i class="fas fa-check"></i> Workshop materials</li>
            <li><i class="fas fa-check"></i> Lunch and refreshments</li>
            <li><i class="fas fa-check"></i> Networking dinner</li>
            <li><i class="fas fa-check"></i> Professional certificate</li>
          </ul>
          <a href="#" class="btn btn-primary">Get Professional Pass</a>
        </div>
        
        <div class="ticket-card">
          <div class="ticket-name">BITS Student</div>
          <div class="ticket-price">Free</div>
          <div class="ticket-description">For current BITS Pilani students.</div>
          <ul class="ticket-features">
            <li><i class="fas fa-check"></i> Access to all sessions</li>
            <li><i class="fas fa-check"></i> Workshop materials</li>
            <li><i class="fas fa-check"></i> Certificate of participation</li>
            <li><i class="fas fa-check"></i> Valid BITS ID required</li>
          </ul>
          <a href="#" class="btn btn-primary">Register with ID</a>
        </div>
      </div>
    </div>
    
    <div class="related-events">
      <h2 class="section-heading">Related Events</h2>
      <div class="related-grid" id="related-grid">
        <!-- Related events will be loaded dynamically -->
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="../images/coding-club-logo.jpeg" alt="BITS Pilani Coding Club Logo">
          <h3>BITS Pilani Coding Club</h3>
        </div>
        <div class="footer-links">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../index.html#whats-new">What's New</a></li>
            <li><a href="../index.html#activities">Activities</a></li>
            <li><a href="../index.html#events">Events</a></li>
            <li><a href="../index.html#gallery">Gallery</a></li>
          </ul>
        </div>
        <div class="footer-contact">
          <h4>Contact Us</h4>
          <p><i class="fas fa-map-marker-alt"></i> BITS Pilani, Vidya Vihar, Pilani, Rajasthan 333031</p>
          <p><i class="fas fa-envelope"></i> codingclub@pilani.bits-pilani.ac.in</p>
          <p><i class="fas fa-phone"></i> +91 1596 255XXX</p>
        </div>
        <div class="footer-social">
          <h4>Follow Us</h4>
          <div class="social-icons">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
            <a href="#"><i class="fab fa-github"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 BITS Pilani Coding Club. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Get the event ID from the URL
    const urlParams = new URLSearchParams(window.location.search);
    const eventId = urlParams.get('id');
    
    // Mobile menu functionality
    document.querySelector('.mobile-menu-btn').addEventListener('click', function() {
      document.querySelector('.nav-menu').classList.toggle('active');
    });
    
    // Fetch and display event details
    document.addEventListener('DOMContentLoaded', function() {
      // Try to fetch from a dedicated data file first
      fetch('../js/data/eventsData.js')
        .then(response => {
          if (!response.ok) {
            throw new Error('No dedicated events data file found. Falling back to main script.js');
          }
          return response.text();
        })
        .then(jsContent => {
          // Extract the featured events array from the JS file
          const eventsStart = jsContent.indexOf('const featuredEvents = [');
          if (eventsStart === -1) throw new Error('Featured events array not found in file');
          
          const eventsEnd = jsContent.indexOf('];', eventsStart) + 1;
          const eventsString = jsContent.substring(
            jsContent.indexOf('[', eventsStart),
            eventsEnd
          );
          
          // Convert to JSON and parse
          const eventsData = JSON.parse(eventsString);
          const event = eventsData.find(e => e.id === parseInt(eventId));
          
          if (event) {
            displayEventDetails(event);
            fetchRelatedEvents(event, eventsData);
          } else {
            document.getElementById('event-description').textContent = 'Event not found. Please check the URL and try again.';
          }
        })
        .catch(error => {
          console.error('Error loading from dedicated file:', error);
          
          // Fall back to fetching from the main script.js
          fetch('../script.js')
            .then(response => response.text())
            .then(jsContent => {
              // Extract the featured events data array from the JS file
              const eventsDataStart = jsContent.indexOf('const featuredEventsData = [');
              if (eventsDataStart === -1) throw new Error('Featured events data array not found in script.js');
              
              const eventsDataEnd = jsContent.indexOf('];', eventsDataStart) + 1;
              const eventsDataString = jsContent.substring(
                jsContent.indexOf('[', eventsDataStart),
                eventsDataEnd
              );
              
              // Convert to JSON and parse
              const eventsData = JSON.parse(eventsDataString);
              const event = eventsData.find(e => e.id === parseInt(eventId));
              
              if (event) {
                displayEventDetails(event);
                fetchRelatedEvents(event, eventsData);
              } else {
                document.getElementById('event-description').textContent = 'Event not found. Please check the URL and try again.';
              }
            })
            .catch(finalError => {
              console.error('Error loading event data:', finalError);
              document.getElementById('event-description').textContent = 'Error loading event details. Please try again later.';
            });
        });
    });
    
    function displayEventDetails(event) {
      // Update page title
      document.title = `${event.title} - BITS Pilani Coding Club`;
      
      // Set event details
      document.getElementById('event-image').src = event.image;
      document.getElementById('event-image').alt = event.title;
      document.getElementById('event-title').textContent = event.title;
      document.getElementById('event-date').textContent = event.date;
      
      // Set time, location, and organizer if available
      document.getElementById('event-time').textContent = event.time || '10:00 AM - 4:00 PM';
      document.getElementById('event-location').textContent = event.location || 'BITS Pilani Campus';
      document.getElementById('event-organizer').textContent = event.organizer || 'BITS Pilani Coding Club';
      
      // Set the description
      const descriptionField = event.fullDescription || event.description;
      document.getElementById('event-description').innerHTML = descriptionField;
      
      // If the event has a detailed event structure, display it
      if (event.highlights && event.highlights.length > 0) {
        const highlightsList = document.getElementById('highlights-list');
        highlightsList.innerHTML = '';
        
        event.highlights.forEach(highlight => {
          highlightsList.innerHTML += `
            <li><i class="fas fa-star"></i> ${highlight}</li>
          `;
        });
      } else {
        // If no highlights are provided, generate some default ones
        const defaultHighlights = [
          "Interactive workshops led by industry experts",
          "Hands-on coding sessions with real-world applications",
          "Networking opportunities with tech professionals",
          "Certificate of participation for all attendees",
          "Exciting prizes for competition winners"
        ];
        
        const highlightsList = document.getElementById('highlights-list');
        highlightsList.innerHTML = '';
        
        defaultHighlights.forEach(highlight => {
          highlightsList.innerHTML += `
            <li><i class="fas fa-star"></i> ${highlight}</li>
          `;
        });
      }
      
      // If speakers are provided, display them
      if (event.speakers && event.speakers.length > 0) {
        const speakersGrid = document.getElementById('speakers-grid');
        speakersGrid.innerHTML = '';
        
        event.speakers.forEach(speaker => {
          speakersGrid.innerHTML += `
            <div class="speaker-card">
              <img src="${speaker.image}" alt="${speaker.name}" class="speaker-image">
              <div class="speaker-info">
                <h3 class="speaker-name">${speaker.name}</h3>
                <div class="speaker-role">${speaker.role}</div>
                <p class="speaker-bio">${speaker.bio}</p>
              </div>
            </div>
          `;
        });
      } else {
        // If no speakers are provided, hide the speakers section
        document.querySelector('.speakers-section').style.display = 'none';
      }
      
      // If schedule is provided, display it
      if (event.schedule && event.schedule.length > 0) {
        const scheduleTable = document.querySelector('#schedule-table tbody');
        scheduleTable.innerHTML = '';
        
        event.schedule.forEach(item => {
          scheduleTable.innerHTML += `
            <tr>
              <td>${item.time}</td>
              <td>${item.session}</td>
              <td>${item.speaker}</td>
              <td>${item.location}</td>
            </tr>
          `;
        });
      } else {
        // If no schedule is provided, create a default one
        const defaultSchedule = [
          {time: "09:30 AM - 10:00 AM", session: "Registration & Welcome Kit", speaker: "Organizing Team", location: "Main Entrance"},
          {time: "10:00 AM - 10:30 AM", session: "Opening Ceremony", speaker: "Dr. Rajesh Kumar", location: "Auditorium"},
          {time: "10:30 AM - 12:00 PM", session: event.title + " - Session 1", speaker: "Industry Expert", location: "Lecture Hall 1"},
          {time: "12:00 PM - 01:00 PM", session: "Lunch Break", speaker: "-", location: "Cafeteria"},
          {time: "01:00 PM - 02:30 PM", session: event.title + " - Session 2", speaker: "Guest Speaker", location: "Lecture Hall 1"},
          {time: "02:30 PM - 03:00 PM", session: "Tea Break", speaker: "-", location: "Lounge Area"},
          {time: "03:00 PM - 04:00 PM", session: "Interactive Workshop", speaker: "Coding Club Team", location: "Computer Lab"},
          {time: "04:00 PM - 04:30 PM", session: "Closing Ceremony & Certificate Distribution", speaker: "Club President", location: "Auditorium"}
        ];
        
        const scheduleTable = document.querySelector('#schedule-table tbody');
        scheduleTable.innerHTML = '';
        
        defaultSchedule.forEach(item => {
          scheduleTable.innerHTML += `
            <tr>
              <td>${item.time}</td>
              <td>${item.session}</td>
              <td>${item.speaker}</td>
              <td>${item.location}</td>
            </tr>
          `;
        });
      }
      
      // Update location details if provided
      if (event.venueDetails) {
        document.getElementById('location-address').innerHTML = event.venueDetails.address;
        
        if (event.venueDetails.mapUrl) {
          document.querySelector('.location-map iframe').src = event.venueDetails.mapUrl;
        }
      }
      
      // Update registration section if provided
      if (event.registration) {
        document.getElementById('registration-info').innerHTML = event.registration.info;
        
        if (event.registration.tickets && event.registration.tickets.length > 0) {
          const ticketTypes = document.getElementById('ticket-types');
          ticketTypes.innerHTML = '';
          
          event.registration.tickets.forEach(ticket => {
            let featuresHtml = '';
            if (ticket.features && ticket.features.length > 0) {
              featuresHtml = '<ul class="ticket-features">';
              ticket.features.forEach(feature => {
                featuresHtml += `<li><i class="fas fa-check"></i> ${feature}</li>`;
              });
              featuresHtml += '</ul>';
            }
            
            ticketTypes.innerHTML += `
              <div class="ticket-card">
                <div class="ticket-name">${ticket.name}</div>
                <div class="ticket-price">${ticket.price}</div>
                <div class="ticket-description">${ticket.description}</div>
                ${featuresHtml}
                <a href="${ticket.registerUrl || '#'}" class="btn btn-primary">${ticket.buttonText || 'Register'}</a>
              </div>
            `;
          });
        }
      }
    }
    
    function fetchRelatedEvents(currentEvent, allEvents) {
      const relatedGrid = document.getElementById('related-grid');
      
      // Filter out current event and limit to 3 related events
      const relatedEvents = allEvents
        .filter(event => event.id !== currentEvent.id)
        .slice(0, 3);
      
      if (relatedEvents.length === 0) {
        document.querySelector('.related-events').style.display = 'none';
        return;
      }
      
      relatedGrid.innerHTML = '';
      
      relatedEvents.forEach(event => {
        const eventCard = document.createElement('div');
        eventCard.className = 'related-card';
        eventCard.innerHTML = `
          <a href="event-detail.html?id=${event.id}" class="card-link">
            <img src="${event.image}" alt="${event.title}">
            <div class="related-card-content">
              <div class="related-card-date">${event.date}</div>
              <h3>${event.title}</h3>
              <p>${event.description.substring(0, 100)}${event.description.length > 100 ? '...' : ''}</p>
            </div>
          </a>
        `;
        relatedGrid.appendChild(eventCard);
      });
    }
  </script>
</body>
</html>